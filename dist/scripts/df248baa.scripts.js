"use strict";var app=angular.module("angNewsApp",["ngCookies","ngResource","ngSanitize","ngRoute","firebase"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/posts.html",controller:"PostsCtrl"}).when("/posts/:postId",{templateUrl:"views/showpost.html",controller:"ViewPostCtrl"}).otherwise({redirectTo:"/"})}]).constant("FIREBASE_URL","https://scorching-fire-4068.firebaseio.com/");app.controller("PostsCtrl",["$scope","Post",function(a,b){a.posts=b.all,a.submitPost=function(){b.create(a.post).then(function(){a.post={url:"http://",title:""}})},a.deletePost=function(a){b.delete(a)}}]),app.controller("ViewPostCtrl",["$scope","$routeParams","Post",function(a,b,c){a.post=c.find(b.postId)}]),app.controller("NavCtrl",["$scope","$location","Post",function(a,b,c){a.post={url:"http://",title:""},a.submitPost=function(){c.create(a.post).then(function(c){b.path("/posts/"+c.name),a.post={url:"http://",title:""}})}}]),app.factory("Post",["$firebase","FIREBASE_URL",function(a,b){var c=new Firebase(b+"posts"),d=a(c),e={all:d,create:function(a){return d.$add(a)},find:function(a){return d.$child(a)},"delete":function(a){return d.$remove(a)}};return e}]),app.filter("hostnameFromUrl",function(){return function(a){var b=document.createElement("a");return b.href=a,b.hostname}});